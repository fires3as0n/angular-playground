<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div
    class="form-group"
    formGroupName="userData"
  >
    <label for="username">Username</label>
    <input
      type="text"
      id="username"
      class="form-control"
      [formControlName]="'username'"
    />
    <div
      class="help-block"
      *ngIf="form.get('userData.username').invalid && form.get('userData.username').touched"
    >
      Error!
      <p *ngFor="let error of getUserErrors()">{{error}}</p>
    </div>

    <label for="email">email</label>
    <input
      type="text"
      id="email"
      class="form-control"
      formControlName="email"
    />
    <p *ngIf="form.get('userData.email').invalid">asdf</p>
    <button (click)="setEmail()">Set Email</button>
  </div>

  <div class="radio" *ngFor="let gender of genders">
    <label>
      <input
        type="radio"
        [value]="gender"
        formControlName="gender"
      />
      {{ gender }}
    </label>
  </div>

   <!--
   Take in mind that if we had formGroup(several inputs related to one entity)
   instead of single input, we would have to add another div and bind
   that group name to that div
   and only then start to render our inpuits
   thats a drawback of binding in angular -
   form structure has to repeat data structure
   -->
  <div formArrayName="hobbies">
    <h4>Your hobbies</h4>
    <button type="button" (click)="onAddHobby()">Add hobby</button>
    <input
      *ngFor="let hobby of getHobbyControls(); let i = index"
      class="form-control"
      [formControlName]="i"
    />
  </div>

  <button class="btn btn-primary" type="submit">Submit</button>
</form>
